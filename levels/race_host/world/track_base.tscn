[gd_scene load_steps=16 format=3 uid="uid://bwc8bayrrxl7r"]

[ext_resource type="Script" path="res://levels/race_host/world/track_base.gd" id="1_o7q5g"]
[ext_resource type="PackedScene" uid="uid://cu8eyrj86d7on" path="res://levels/race_host/world/race_camera.tscn" id="2_2nhiv"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_b42a6"]

[sub_resource type="Sky" id="Sky_7u16r"]
sky_material = SubResource("ProceduralSkyMaterial_b42a6")

[sub_resource type="Environment" id="Environment_i41jo"]
background_mode = 2
sky = SubResource("Sky_7u16r")

[sub_resource type="BoxShape3D" id="BoxShape3D_g8isw"]
size = Vector3(1000, 10, 1000)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2nhy8"]
albedo_color = Color(0.560784, 0.560784, 0.560784, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_o7r82"]
material = SubResource("StandardMaterial3D_2nhy8")
size = Vector2(1000, 1000)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_8kbjs"]

[sub_resource type="BoxShape3D" id="BoxShape3D_beq3a"]
size = Vector3(20, 20, 1)

[sub_resource type="BoxMesh" id="BoxMesh_htjdx"]
size = Vector3(10, 1, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_p2hla"]
size = Vector3(10, 20, 200)

[sub_resource type="BoxMesh" id="BoxMesh_wdx13"]
size = Vector3(10, 20, 200)

[sub_resource type="Curve3D" id="Curve3D_x0twe"]
_data = {
"points": PackedVector3Array(28.4918, 3.39759, 36.0129, -28.4918, -3.39759, -36.0129, -45.322, 0, 33.9228, -2.77137, -1.55151, 19.0654, 2.77137, 1.55151, -19.0654, -67.5709, 0, -46.558, -26.007, -1.46498, 7.29942, 26.007, 1.46498, -7.29942, -29.7958, 0, -74.8099, -9.96081, 4.18362, -6.30216, 9.96081, -4.18362, 6.30216, 45, 1, -75, 26.2145, -0.738892, -19.557, -26.2145, 0.738892, 19.557, 58.6305, 0, -31.5579, 0.40152, 0, -23.8816, -0.40152, 0, 23.8816, 25.3104, 0, 24.5095, 1.3256, 0.948013, -18.3042, -1.3256, -0.948013, 18.3042, 59.5916, 0, 62.6353, 14.3952, 0.979666, 7.95847, -14.3952, -0.979666, -7.95847, -4.80577, 0, 81.8584, 0, 0, 0, 0, 0, 0, -45.322, 0, 33.9228),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 9

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6rqvi"]
albedo_color = Color(0.317647, 0.317647, 0.317647, 1)

[node name="TrackBase" type="Node3D" node_paths=PackedStringArray("car_spawn")]
script = ExtResource("1_o7q5g")
car_spawn = NodePath("Spawn")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_i41jo")

[node name="RaceCamera" parent="." node_paths=PackedStringArray("track") instance=ExtResource("2_2nhiv")]
track = NodePath("..")
y_offset = 40.0

[node name="Ground" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.19912, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5, 0)
shape = SubResource("BoxShape3D_g8isw")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Ground"]
mesh = SubResource("PlaneMesh_o7r82")
skeleton = NodePath("../..")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ground"]
mesh = SubResource("CapsuleMesh_8kbjs")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.686529, 0.727102, 0, -0.727102, 0.686529, 0, 10.1981, 0)
light_color = Color(0.92549, 0.964706, 1, 1)
light_energy = 1.685

[node name="Area3D" type="Area3D" parent="." groups=["lap"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -56.8964, 3.18546, 5.0904)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D" groups=["lap"]]
transform = Transform3D(0.874103, 0, 0.485741, 0, 1, 0, -0.485741, 0, 0.874103, 0, 0, 0)
shape = SubResource("BoxShape3D_beq3a")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Area3D/CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 8.61194, 0)
mesh = SubResource("BoxMesh_htjdx")
skeleton = NodePath("../..")

[node name="Spawn" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -51.6419, 3.18546, 16.2213)

[node name="geometry" type="Node3D" parent="."]

[node name="wall" type="StaticBody3D" parent="geometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -100, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="geometry/wall"]
shape = SubResource("BoxShape3D_p2hla")

[node name="MeshInstance3D" type="MeshInstance3D" parent="geometry/wall"]
mesh = SubResource("BoxMesh_wdx13")

[node name="wall3" type="StaticBody3D" parent="geometry"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, 100)

[node name="CollisionShape3D" type="CollisionShape3D" parent="geometry/wall3"]
shape = SubResource("BoxShape3D_p2hla")

[node name="MeshInstance3D" type="MeshInstance3D" parent="geometry/wall3"]
mesh = SubResource("BoxMesh_wdx13")

[node name="wall4" type="StaticBody3D" parent="geometry"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 0, -100)

[node name="CollisionShape3D" type="CollisionShape3D" parent="geometry/wall4"]
shape = SubResource("BoxShape3D_p2hla")

[node name="MeshInstance3D" type="MeshInstance3D" parent="geometry/wall4"]
mesh = SubResource("BoxMesh_wdx13")

[node name="wall2" type="StaticBody3D" parent="geometry"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 100, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="geometry/wall2"]
shape = SubResource("BoxShape3D_p2hla")

[node name="MeshInstance3D" type="MeshInstance3D" parent="geometry/wall2"]
mesh = SubResource("BoxMesh_wdx13")

[node name="Path3D2" type="Path3D" parent="."]
curve = SubResource("Curve3D_x0twe")

[node name="Railin" type="CSGPolygon3D" parent="Path3D2"]
use_collision = true
polygon = PackedVector2Array(10, 0, 10, 2, 11, 2, 11, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 3.1
path_rotation = 1
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = true

[node name="Railout" type="CSGPolygon3D" parent="Path3D2"]
use_collision = true
polygon = PackedVector2Array(0, 0, 0, 2, -1, 2, -1, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 3.1
path_rotation = 1
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = true

[node name="Road" type="CSGPolygon3D" parent="Path3D2" groups=["road"]]
use_collision = true
polygon = PackedVector2Array(0, 0, 0, 0.2, 10, 0.2, 10, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.05
path_simplify_angle = 4.3
path_rotation = 1
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = true
material = SubResource("StandardMaterial3D_6rqvi")
